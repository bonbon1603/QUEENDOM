<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Create Password</title>
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;700;800&display=swap" rel="stylesheet">
<style>
  body{ margin:0; height:100vh; display:flex; align-items:center; justify-content:center; font-family:"Nunito",Arial; background: linear-gradient(130deg,#eef5ff 0%,#dce8ff 40%,#e6ddf3 70%,#ffd8f1 100%); }
  .card{ width:420px; padding:34px; border-radius:28px; background:rgba(255,255,255,0.6); backdrop-filter:blur(12px); box-shadow:0 20px 45px rgba(0,0,0,0.12); }
  h1{ margin:0 0 12px; font-size:28px; text-align:center; color:#15304f; }
  .meta{ text-align:center; color:#4b5a72; margin-bottom:18px; font-weight:600;}
  input{ width:100%; padding:12px 14px; border-radius:12px; border:none; margin-top:10px; font-size:15px; background:rgba(255,255,255,0.95); box-shadow:inset 0 4px 10px rgba(0,0,0,0.06) }
  .btn{ margin-top:14px; width:100%; padding:12px; border-radius:14px; border:none; font-weight:700; background:linear-gradient(135deg,#7fb8ff,#c995ff); color:white; font-size:16px; cursor:pointer; }
  .note{ text-align:center; margin-top:10px; color:#5b6b80; font-size:13px; }
</style>
</head>
<body>
  <div class="card">
    <h1>Create Password</h1>
    <div id="providerMeta" class="meta"></div>

    <input id="pw" type="password" placeholder="Enter password (at least 6 characters)"/>
    <input id="pw2" type="password" placeholder="Confirm password"/>

    <button class="btn" onclick="onSetPassword()">Continue</button>
    <div class="note">After creating your password, you will be asked to enter your name, date of birth, and place of residence.</div>
  </div>

<script>
(function init(){
  const provider = localStorage.getItem('auth_provider') || 'email';
  const email = localStorage.getItem('auth_email') || '';
  const meta = document.getElementById('providerMeta');
  let txt = '';
  if(provider === 'email') txt = 'Signed in with Email' + (email ? ' â€” ' + email : '');
  else txt = 'Signed in with ' + provider.charAt(0).toUpperCase() + provider.slice(1);
  meta.textContent = txt;
})();

function onSetPassword(){
  const pw = document.getElementById('pw').value.trim();
  const pw2 = document.getElementById('pw2').value.trim();
  if(pw.length < 6) return alert('Password must be at least 6 characters.');
  if(pw !== pw2) return alert('Password confirmation does not match.');
  // save (demo: plain text)
  localStorage.setItem('auth_password', pw);
  // go to profile page
  window.location.href = 'profile.html';
}
</script>
</body>
</html>
