<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>QUEENDOM</title>
<style>
  /* ---------- Base ---------- */
  :root{
    --bg-a:#050006;
    --bg-b:#5e0b6d;
  }

  body{
    margin:0;
    height:100vh;
    background: linear-gradient(
      140deg,
      #ffffff 0%,
      #dff2ff 18%,
      #b6e4ff 35%,
      #9cd0ff 52%,
      #c8c9ff 70%,
      #ffd7f8 90%
    );
    color:#fff;
    font-family: Arial, sans-serif;
    padding:60px;
    text-align:center;
    background-attachment: fixed;
  }

  .page { max-width:1200px; margin:0 auto; padding:48px 60px; }

  /* HERO */
  .hero {
    min-height:100vh;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    text-align:center;
    padding-top:80px;
    padding-bottom:80px;
  }
  .hero h1{
    font-family: 'French Script MT', cursive;
    font-size:150px;
    margin:0;
    line-height:0.9;
    color:#fff;
    text-shadow: 0 10px 28px rgba(0,0,0,0.6);
    animation: queenGlow 6s ease-in-out infinite;
  }
  @keyframes queenGlow{
    0%{ text-shadow:0 0 25px rgba(255,255,255,0.6); }
    50%{ text-shadow:0 0 60px rgba(130,170,255,0.9); }
    100%{ text-shadow:0 0 25px rgba(255,255,255,0.6); }
  }

  .city { padding:80px 0; font-family: 'French Script MT', cursive; }
  .city h2{ font-size:80px; margin:0; line-height:0.95; }
  .city p{ font-size:28px; margin-top:18px; color:#f4eaff; }
  .city-left{ text-align:left; padding-left:10%; }
  .city-right{ text-align:right; padding-right:10%; }

  .container { margin-top:18px; text-align:center; position:relative; padding:36px 20px; }
  .title{ font-size:54px; font-weight:800; margin:10px 0 6px; line-height:1.05; letter-spacing:0.4px; }
  .subtitle{ margin:0 0 18px; color:#e7e7e7; font-size:18px; }

  /* ================================ */
.btn {
  display: inline-block;
  text-decoration: none;
  padding: 26px 64px;
  margin: 16px;
  font-size: 36px;
  font-weight: 800;
  border-radius: 28px;
  color: #ffffff;
  position: relative;
  z-index: 1;
  cursor: pointer;
  transition: 240ms ease;

  background: linear-gradient(180deg,
      #e8f3ff 0%, 
      #d3e5ff 35%, 
      #d0e2ff 60%,
      #f7d9ff 100%
  );

  text-shadow:
    0 0 10px rgba(255,200,255,0.9),
    0 0 28px rgba(200,160,255,0.55);

  box-shadow:
    0 18px 58px rgba(160,190,255,0.42),
    0 0 38px rgba(255,180,255,0.42);
}

.btn::before {
  content: "";
  position: absolute;
  inset: -12px;
  border-radius: 36px;
  z-index: -1;

  background: linear-gradient(
      135deg,
      #ffffffcc,
      #d8ecff,
      #bcd4ff,
      #e4c6ff,
      #ffd9f7
  );

  box-shadow:
    0 0 28px rgba(180,200,255,0.50),
    0 0 64px rgba(220,160,255,0.45);

  filter: blur(0.4px);
}

.btn::after {
  content: "";
  position: absolute;
  inset: -4px;
  border-radius: 32px;
  z-index: -1;
  border: 2px solid rgba(255,255,255,0.85);
  opacity: 0.85;
}

.btn:hover {
  transform: scale(1.07);
  box-shadow:
    0 24px 58px rgba(160,190,255,0.65),
    0 0 84px rgba(240,170,255,0.65);
}

  footer{ margin-top:28px; color:#f4e7ff; font-size:14px; opacity:0.95; }

  /* === FAB (no modification) === */
  .menu-fab {
    position:fixed;
    right:24px;
    bottom:24px;
    z-index:1200;
    font-family: Arial, sans-serif;
  }
  .menu-fab .fab {
    width:64px;
    height:64px;
    border-radius:50%;
    display:flex;
    align-items:center;
    justify-content:center;
    background: transparent;
    border: 1px solid rgba(255,255,255,0.12);
    color: #ffffff;
    font-size:28px;
    cursor:pointer;
    user-select:none;
    transition: transform 180ms ease, box-shadow 180ms ease, background 180ms;
    box-shadow: 0 6px 18px rgba(0,0,0,0.25);
  }
  .menu-fab .fab:hover{ transform: scale(1.04); }
  .menu-fab .fab-items {
    position:absolute;
    right:0;
    bottom:80px;
    display:flex;
    flex-direction:column;
    align-items:flex-end;
    gap:12px;
    pointer-events:none;
    transition: transform 240ms cubic-bezier(.2,.9,.2,1), opacity 240ms;
    transform-origin: bottom right;
  }
  .menu-fab .fab-item {
    pointer-events: auto;
    display:inline-flex;
    align-items:center;
    gap:10px;
    padding:10px 20px;
    border-radius:14px;
    font-size:20px;
    font-weight:600;
    text-decoration:none;
    color:#ffffff;
    background: rgba(255,255,255,0.25);
    backdrop-filter: blur(12px);
    box-shadow: 0 4px 20px rgba(255,255,255,0.25),
                inset 0 0 8px rgba(255,255,255,0.3);
    transition: 0.2s ease-in-out;
    transform: translateY(8px) scale(.96);
    opacity:0;
    border:1px solid rgba(255,255,255,0.12);
  }
  .menu-fab .fab-item:hover {
    background: rgba(255,100,180,0.45);
    transform: scale(1.08);
    color: #fff0ff;
    box-shadow:
      0 6px 30px rgba(255,120,200,0.5),
      inset 0 0 12px rgba(255,255,255,0.55);
  }
  .menu-fab.open .fab-items { pointer-events: auto; }
  .menu-fab.open .fab-item { transform: translateY(0) scale(1); opacity:1; }
  .menu-fab.open .fab-item:nth-child(1){ transition-delay:0ms }
  .menu-fab.open .fab-item:nth-child(2){ transition-delay:40ms }
  .menu-fab.open .fab-item:nth-child(3){ transition-delay:80ms }
  .menu-fab.open .fab-item:nth-child(4){ transition-delay:120ms }
  .menu-fab.open .fab-item:nth-child(5){ transition-delay:160ms }
  .menu-fab.open .fab-item:nth-child(6){ transition-delay:200ms } /* Q/A */
  
  /* ===== user widget (avatar + name) ===== */
.user-widget {
  position: fixed;
  top: 18px;
  right: 26px;
  display: flex;
  gap: 12px;
  align-items: center;
  padding: 8px 14px;
  background: rgba(255,255,255,0.18);
  backdrop-filter: blur(6px);
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.35);
  box-shadow: 0 8px 26px rgba(40,60,120,0.08);
  cursor: pointer;
  transition: transform .15s ease, box-shadow .15s ease, opacity .15s;
  z-index: 2200;
}
.user-widget.hidden { display: none !important; opacity: 0; pointer-events: none; }

.user-widget:focus { outline: 2px solid rgba(255,255,255,0.25); transform: translateY(-3px); }
.user-widget:hover { transform: translateY(-3px); box-shadow: 0 18px 40px rgba(40,70,140,0.12); }

.user-greet { color: #fff; font-weight:800; font-size:18px; text-shadow: 0 2px 8px rgba(0,0,0,0.18); }
.user-avatar {
  width:46px;
  height:46px;
  border-radius:50%;
  display:block;
  object-fit:cover;
  border:3px solid rgba(255,255,255,0.7);
  box-shadow: 0 8px 20px rgba(0,0,0,0.22);
  background: linear-gradient(135deg,#7fb8ff,#c995ff);
}

/* small 'Sign in' button (shown when not logged) */
.user-signin-btn{
  position: fixed;
  top: 18px;
  right: 26px;
  z-index:2200;
  background: linear-gradient(135deg,#7fb8ff,#c995ff);
  color:#fff;
  padding:8px 14px;
  border-radius:12px;
  font-weight:700;
  text-decoration:none;
  box-shadow:0 8px 26px rgba(100,120,200,0.12);
}
.site-logo {
    position: fixed;
    top: 16px;
    left: 16px;
    width: 64px;
    height: 64px;
    z-index: 9999;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(6px);
    border-radius: 12px;
    padding: 6px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.12);
    cursor: pointer;
    transition: transform .18s cubic-bezier(.2,.9,.2,1), box-shadow .18s;
  }
  .site-logo:active { transform: scale(.97); }
  .site-logo svg { width:100%; height:100%; display:block; }
  .site-logo:hover { transform: translateY(-3px) scale(1.03); box-shadow: 0 14px 30px rgba(0,0,0,0.16); }
  @media (prefers-reduced-motion: reduce) {
    .site-logo, .site-logo svg { transition: none; transform: none; }
  }
  .site-logo img {
    width: 150%;
    height: 150%;
    object-fit: contain; /* kh√¥ng m√©o ·∫£nh */
    border-radius: 10px; /* n·∫øu mu·ªën bo nh·∫π logo */
}
</style>
</head>
<body>

<body>

<div class="site-logo" id="siteLogo" role="link" aria-label="Home - Logo" title="Home">
  <img src="images/logo.png" alt="Logo">
</div>

<script>
  (function(){
    var logo = document.getElementById('siteLogo');
    if (!logo) return;
    logo.addEventListener('click', function(){
      // ƒë·ªïi 'index.html' n·∫øu b·∫°n mu·ªën ƒë∆∞·ªùng d·∫´n kh√°c
      window.location.href = 'index.html';
    });
    logo.setAttribute('tabindex', '0');
    logo.addEventListener('keydown', function(e){
      if (e.key === 'Enter' || e.key === ' ') { 
        e.preventDefault(); 
        logo.click(); 
      }
    });
  })();
</script>


<!-- USER WIDGET / SIGN-IN (do script b·∫≠t/t·∫Øt) -->
<div id="userWidget" class="user-widget hidden" role="button" tabindex="0" aria-label="Open profile">
  <div class="user-greet" id="userGreet">Hello, User</div>
  <img id="userAvatar" class="user-avatar" src="" alt="avatar">
</div>

<a id="userSigninBtn" class="user-signin-btn" href="signin.html" style="display:none">Sign In</a>
<!-- /USER WIDGET -->


<div class="page">

  <div class="hero">
    <h1>QUEENDOM</h1>
  </div>

  <div class="city city-left">
    <h2>our voice</h2>
    <p>could be everywhere.</p>
  </div>

  <div class="city city-right">
    <h2>light</h2>
    <p>is you.</p>
  </div>

  <div class="city city-left">
    <h2>dark</h2>
    <p>is, too.</p>
  </div>

  <audio id="audio"></audio>

  <div class="container">
    <h1 class="title">Sign Language</h1>
    <p class="subtitle">Choose an option</p>

    <div class="menu">
      <a class="btn" href="learn.html">Learn</a>
      <a class="btn" href="translate.html">Translate</a>
    </div>
  </div>

  <footer>wish u all the best.</footer>
</div>

<!-- FLOATING FAB -->
<div class="menu-fab" id="menuFab" aria-hidden="false">
  <div class="fab" id="fabButton" role="button" aria-label="Open menu" tabindex="0">‚Ä¶</div>
  <div class="fab-items" id="fabItems" role="menu" aria-hidden="true">

    <a class="fab-item" href="new.html"><span class="icon">üè†</span> Home</a>
    <a class="fab-item" href="introduction.html"><span class="icon">üìñ</span> Introduction</a>
    <a class="fab-item" href="signup.html"><span class="icon">üìù</span> Sign Up</a>
    <a class="fab-item" href="signin.html"><span class="icon">üîê</span> Sign In</a>
    <a class="fab-item" href="game.html"><span class="icon">üéÆ</span> Game</a>

    <!-- ‚≠ê NEW: Q/A -->
    <a class="fab-item" href="qa.html"><span class="icon">‚ùì</span> Q / A</a>

  </div>
</div>

<script>
/* MUSIC RANDOM AUTOPLAY */
const playlist = [
  "music/dolia.mp3",
  "music/beautiful.mp3",
  "music/rainbow.mp3",
  "music/vogelpiano.mp3",
  "music/counter.mp3",
  "music/vogel.mp3",
  "music/callwed.mp3",
  "music/akumawed.mp3",
  "music/akazawife.mp3",
  "music/akaza.mp3",
  "music/vohanthanh.mp3",
  "music/kamado.mp3",
  "music/kny4.mp3",
  "music/kny2.mp3",
  "music/kny5.mp3",
  "music/beauty.mp3"
];


const audio = document.getElementById("audio");
let currentIndex = -1;

function pickRandomIndex(){
  if(!playlist || playlist.length === 0) return -1;
  let idx = Math.floor(Math.random() * playlist.length);
  if(playlist.length > 1 && idx === currentIndex) idx = (idx + 1) % playlist.length;
  return idx;
}

function loadAndPlayRandom(){
  const idx = pickRandomIndex();
  if(idx < 0) return;
  currentIndex = idx;
  audio.src = playlist[idx];
  audio.play().catch(e => console.log("Autoplay blocked:", e));
}

window.addEventListener('load', loadAndPlayRandom);

function tryPlayOnUserInteraction(){
  if(audio.paused) audio.play().catch(()=>{});
  window.removeEventListener('click', tryPlayOnUserInteraction);
  window.removeEventListener('keydown', tryPlayOnUserInteraction);
  window.removeEventListener('touchstart', tryPlayOnUserInteraction);
}

window.addEventListener('click', tryPlayOnUserInteraction);
window.addEventListener('keydown', tryPlayOnUserInteraction);
window.addEventListener('touchstart', tryPlayOnUserInteraction);

audio.onended = loadAndPlayRandom;

/* FAB MENU LOGIC */
(function(){
  const fabWrap = document.getElementById('menuFab');
  const fabBtn = document.getElementById('fabButton');
  const fabItems = document.getElementById('fabItems');

  function toggleMenu(){
    fabWrap.classList.toggle('open');
    const isOpen = fabWrap.classList.contains('open');
    fabItems.setAttribute('aria-hidden', isOpen ? 'false' : 'true');
    fabBtn.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
  }

  function closeMenu(){
    fabWrap.classList.remove('open');
    fabItems.setAttribute('aria-hidden', 'true');
    fabBtn.setAttribute('aria-expanded', 'false');
  }

  fabBtn.addEventListener('click', e => { e.stopPropagation(); toggleMenu(); });

  fabBtn.addEventListener('keydown', function(e){
    if(e.key === 'Enter' || e.key === ' '){ e.preventDefault(); toggleMenu(); }
    else if(e.key === 'Escape'){ closeMenu(); }
  });

  document.addEventListener('click', function(e){
    if(!fabWrap.contains(e.target)) closeMenu();
  });

  document.addEventListener('keydown', function(e){
    if(e.key === 'Escape') closeMenu();
  });

  fabItems.querySelectorAll('a').forEach(a => {
    a.addEventListener('click', ()=> setTimeout(closeMenu,150));
  });
})();
</script>

<script type="module" src="firebase.js"></script>

<script>
/* ===== user widget logic (localStorage based) ===== */

(function(){
  const userWidget = document.getElementById('userWidget');
  const userGreet = document.getElementById('userGreet');
  const userAvatar = document.getElementById('userAvatar');
  const signinBtn = document.getElementById('userSigninBtn');

  function safeGet(k){
    try { return localStorage.getItem(k); } catch(e){ return null; }
  }

  function renderWidget(){
    const logged = safeGet('user_logged_in') === 'yes';
    if(!logged){
      // not logged: hide widget, show signin button
      if(userWidget) userWidget.classList.add('hidden');
      if(signinBtn) signinBtn.style.display = 'block';
      return;
    }

    // logged: show widget and hide signin button
    if(userWidget) {
      userWidget.classList.remove('hidden');
      userWidget.style.display = 'flex';
    }
    if(signinBtn) signinBtn.style.display = 'none';

    const name = safeGet('profile_name') || safeGet('username') || 'User';
    const avatarData = safeGet('profile_avatar') || ''; // dataURL or URL

    // set greet text (truncate long names)
    const shown = name.length > 18 ? name.slice(0,16) + '‚Ä¶' : name;
    if(userGreet) userGreet.textContent = 'Hello, ' + shown;

    if(avatarData){
      userAvatar.src = avatarData;
      userAvatar.alt = name + ' avatar';
    } else {
      // fallback: generate initials in a small SVG dataURL so the <img> shows something consistent
      const initials = (name.split(' ').filter(Boolean).map(s=>s[0]).slice(0,2).join('') || 'U').toUpperCase();
      // small SVG circle with initials (data URL)
      const svg = encodeURIComponent(
        `<svg xmlns='http://www.w3.org/2000/svg' width='120' height='120'>
           <defs><linearGradient id='g' x1='0' x2='1'><stop offset='0' stop-color='#7fb8ff'/><stop offset='1' stop-color='#c995ff'/></linearGradient></defs>
           <rect width='100%' height='100%' fill='url(#g)' rx='60' ry='60'/>
           <text x='50%' y='52%' font-family='Nunito, Arial' font-size='48' text-anchor='middle' fill='white' font-weight='700' dy='.35em'>${initials}</text>
         </svg>`
      );
      userAvatar.src = 'data:image/svg+xml;utf8,' + svg;
      userAvatar.alt = 'avatar';
    }
  }

  // When widget clicked -> go to profile page
  function openProfile(){
    window.location.href = 'profileprivate.html';
  }

  // setup keyboard + click handlers
  if(userWidget){
    userWidget.addEventListener('click', openProfile);
    userWidget.addEventListener('keydown', function(e){
      if(e.key === 'Enter' || e.key === ' ') openProfile();
    });
  }

  // storage event: update when other tab changes login info
  window.addEventListener('storage', function(e){
    if(e.key && (e.key.startsWith('profile_') || e.key === 'user_logged_in' || e.key === 'username')){
      renderWidget();
    }
  });

  // initial render
  renderWidget();

  // expose a tiny helper for testing in console (optional)
  window.__QUEENDOM_userWidget = {
    render: renderWidget,
    // quick test function: set sample user in localStorage (console use)
    setTestUser(name, avatarUrl){
      localStorage.setItem('user_logged_in','yes');
      localStorage.setItem('profile_name', name || 'Test User');
      if(avatarUrl) localStorage.setItem('profile_avatar', avatarUrl);
      renderWidget();
    },
    signOut(){ localStorage.removeItem('user_logged_in'); renderWidget(); }
  };
})();
</script>


</body>
</html>
